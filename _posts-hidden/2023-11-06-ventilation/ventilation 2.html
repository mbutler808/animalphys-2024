<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marguerite Butler">
<meta name="dcterms.date" content="2023-11-06">
<meta name="description" content="Oh Oxygen - Picking it up and dropping it off">

<title>ZOOL430/430L Animal Physiology and Laboratory - 10. Respiration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ZOOL430/430L Animal Physiology and Laboratory</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-general-information" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">General Information</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-general-information">    
        <li>
    <a class="dropdown-item" href="../../syllabus.html" rel="" target="">
 <span class="dropdown-text">Syllabus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../schedule.html" rel="" target="">
 <span class="dropdown-text">Schedule</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-course-materials" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Course Materials</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-course-materials">    
        <li>
    <a class="dropdown-item" href="../../lectures.html" rel="" target="">
 <span class="dropdown-text">Lectures</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs.html" rel="" target="">
 <span class="dropdown-text">Labs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../slides.html" rel="" target="">
 <span class="dropdown-text">Slides</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects.html" rel="" target="">
 <span class="dropdown-text">Projects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../resources.html" rel="" target="">
 <span class="dropdown-text">Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mbutler808" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/mbutler808" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pre-class-materials" id="toc-pre-class-materials" class="nav-link active" data-scroll-target="#pre-class-materials">Pre-class materials</a>
  <ul class="collapse">
  <li><a href="#announcementsreminders" id="toc-announcementsreminders" class="nav-link" data-scroll-target="#announcementsreminders">Announcements/Reminders</a></li>
  <li><a href="#week-12-discussion-groups" id="toc-week-12-discussion-groups" class="nav-link" data-scroll-target="#week-12-discussion-groups">Week 12 Discussion Groups</a></li>
  <li><a href="#monday---gas-exchange-in-air-vs-water-and-aquatic-respiration" id="toc-monday---gas-exchange-in-air-vs-water-and-aquatic-respiration" class="nav-link" data-scroll-target="#monday---gas-exchange-in-air-vs-water-and-aquatic-respiration">Monday - Gas Exchange in Air vs Water and Aquatic Respiration</a></li>
  <li><a href="#wednesday---aerial-respiration" id="toc-wednesday---aerial-respiration" class="nav-link" data-scroll-target="#wednesday---aerial-respiration">Wednesday - Aerial Respiration</a></li>
  <li><a href="#friday---happy-veterans-day" id="toc-friday---happy-veterans-day" class="nav-link" data-scroll-target="#friday---happy-veterans-day">Friday - Happy Veterans Day!</a></li>
  </ul></li>
  <li><a href="#for-next-time" id="toc-for-next-time" class="nav-link" data-scroll-target="#for-next-time">For Next Time</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="ventilation.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">10. Respiration</h1>
  <div class="quarto-categories">
    <div class="quarto-category">module 10</div>
    <div class="quarto-category">week 12</div>
    <div class="quarto-category">ventilation</div>
    <div class="quarto-category">lung volumes</div>
    <div class="quarto-category">flow</div>
    <div class="quarto-category">respiratory media</div>
    <div class="quarto-category">aquatic respiration</div>
    <div class="quarto-category">aerial respiration</div>
  </div>
  </div>

<div>
  <div class="description">
    Oh Oxygen - Picking it up and dropping it off
  </div>
</div>

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://butlerlab.org">Marguerite Butler</a> </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            School of Life Sciences, University of Hawaii
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 6, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="pre-class-materials" class="level1">
<h1>Pre-class materials</h1>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Homework announcements
</div>
</div>
<div class="callout-body-container callout-body">
<p>(copied from Discord) <em>Thank you for your hard work on the homework assignments.</em> Thank you especially to those who followed the guidelines. However, despite repeated reminders, some folks are still not complying with the submissions instructions, resulting in work that is not legible, too small to read, in multiple files, and not written out. This makes it very difficult to grade. Therefore:</p>
<ul>
<li>Homework will NO LONGER be accepted in Laulima.</li>
<li>Homework will be due IN CLASS <strong>at the start of class on the due date</strong>.</li>
<li>MUST be <strong>written by hand on paper using pencil or pen.</strong><br>
</li>
<li>No tablet-generated submissions will be accepted.</li>
<li>PLEASE make it easy to grade by writing legibly and large enough to see. You know who you are - because Iʻve asked you before.</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Read ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Before class, you can prepare by reading the following materials:</strong></p>
<ol type="1">
<li>Monday and Wednesday we will cover aerial and aquatic respiration.</li>
<li>Watch both podcasts, look over the reading assignments, and the handouts. These will be very helpful for the homework and the design project. Please start your homework early, the design project will come up quick.</li>
<li>Look over the homework and start what you can. Think of questions to ask in class (no class on Friday).</li>
<li>Have fun doing your independent lab this week! [<a href="../../labs/Lab9-10-toad-muscle/Lab9-10.html">you can refer to the toad muscle manual</a>]!
<ul>
<li>No graded prelab or quiz.</li>
<li>Just prepare for your brilliant experiment (and write notes to help yourself)!</li>
<li><em>Make sure you are clear on the anatomy for the muscles you are going after.</em> Do a little literature search if you need more information</li>
<li>As always, feel free to ask your TA for feedback.</li>
</ul></li>
</ol>
</div>
</div>
<section id="announcementsreminders" class="level3">
<h3 class="anchored" data-anchor-id="announcementsreminders">Announcements/Reminders</h3>
<ul>
<li>Friday Nov.&nbsp;10 is Veterans Day. Thanks to all our veterans for their service!</li>
<li>Due Next Week Monday – Homework 5 [<a href="../../schedule.html">schedule</a>]</li>
<li>Do discussion TEAMMATES eval, released each Friday, due by Monday.</li>
</ul>
</section>
<section id="week-12-discussion-groups" class="level3">
<h3 class="anchored" data-anchor-id="week-12-discussion-groups">Week 12 Discussion Groups</h3>
<table class="table">
<thead>
<tr class="header">
<th>Group</th>
<th>Partner 1</th>
<th>Partner 2</th>
<th>Partner 3</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Adry</td>
<td>Matthew</td>
<td>Logan M</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>Alvin</td>
<td>Maisie</td>
<td>Anna</td>
<td></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Morgan</td>
<td>Justin</td>
<td>Sasha</td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td>Kylie</td>
<td>Mayuka</td>
<td>Christina</td>
<td></td>
</tr>
<tr class="odd">
<td>5</td>
<td>Logan B</td>
<td>Garrett</td>
<td>Kirsten</td>
<td></td>
</tr>
<tr class="even">
<td>6</td>
<td>Richard</td>
<td>Krystal</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="monday---gas-exchange-in-air-vs-water-and-aquatic-respiration" class="level2">
<h2 class="anchored" data-anchor-id="monday---gas-exchange-in-air-vs-water-and-aquatic-respiration">Monday - Gas Exchange in Air vs Water and Aquatic Respiration</h2>
<ul>
<li><strong>Reading assignment:</strong> Withers Aquatic respiration: skim 565-72, read 573-4, 585-99, supplement 12-2. ALTERNATIVELY, read HWA chapter 22 + HWA 586-587 (countercurr) + HWA 590-594 (fish).</li>
<li>[<a href="../../discussions/Discussion-Week10-blood-ventilation.pdf">discussion pg 2-3</a>] [<a href="../../powerpoints/10a.Blood.pdf">slide deck</a>] [<a href="../../powerpoints/10b.Ventilation.pdf">slide deck2</a>]</li>
<li>We will focus on pages 2-3. I will cover question 1, we will discuss questions 2-5.</li>
<li><strong>Topics:</strong>
<ul>
<li>Air vs water (Q1)</li>
<li>Partial pressures of gasses and pO2 at sea level - the starting point.
<ul>
<li>Influences of relative humidity</li>
<li>Altitude (total pressure)</li>
<li>Henryʻs Law - dissolved O2 in water</li>
</ul></li>
<li>Diffusion (Fick’s Law) vs.&nbsp;Bulk Flow
<ul>
<li>How to increase rate of ventilation</li>
</ul></li>
<li>Flow patterns: Countercurrent vs.&nbsp;Concurrent</li>
<li>Fish Gills
<ul>
<li>Ventilatory pumps in fish (breathing patterns)</li>
</ul></li>
</ul></li>
</ul>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/2GPfu8ebZac" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="wednesday---aerial-respiration" class="level2">
<h2 class="anchored" data-anchor-id="wednesday---aerial-respiration">Wednesday - Aerial Respiration</h2>
<ul>
<li><strong>Reading assignment:</strong> Withers pp.&nbsp;609-631 OR HWA chapter 23 + Withers 626-632, skip invertebrates</li>
<li>[<a href="../../discussions/Discussion-Week10-blood-ventilation.pdf">discussion pg 3-4</a>] [<a href="../../powerpoints/10b.Ventilation.pdf">slide deck2</a>]</li>
<li><strong>Aerial Respiration Topics:</strong>
<ul>
<li>Air flow patterns of vertebrates</li>
<li>Lung Volumes
<ul>
<li>Lung Volume (VL or VT)</li>
<li>tidal volume (Vt)</li>
<li>Dead space volume (VD)</li>
<li>Alveolar ventilation volume (VA or Va)</li>
<li>Alveolar Minute Volume (VAE)</li>
</ul></li>
<li>Breath Rate (BR)</li>
<li>Oxygen Extraction and Pulmonary Diffusing Capacity</li>
</ul></li>
</ul>
<p>Respiration the Movie</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/clyu9h810n4" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="friday---happy-veterans-day" class="level2">
<h2 class="anchored" data-anchor-id="friday---happy-veterans-day">Friday - Happy Veterans Day!</h2>
</section>
</section>
<section id="for-next-time" class="level1">
<h1>For Next Time</h1>
<ul>
<li>Homework 6 Respiration due Monday 11/13 [<a href="../../schedule.html">schedule</a>] Homework is due on paper, <strong>at the start of class.</strong></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reminders and materials
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>